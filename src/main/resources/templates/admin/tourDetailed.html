<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head lang="en">
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>TravelCamp</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/index.css" th:href="@{/css/index.css}">


    <!--    Для карусели   -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="/static/css/admin.css" th:href="@{/css/admin.css}">
</head>

<body>

<!--NavBar section-->
<div id="navbarHome">
    <nav class="fixed-top bg-dark py-3 justify-content-around align-items-center" data-bs-theme="dark">
        <div class="row align-items-center justify-content-center px-2">
            <div class="col-md-5 px-4 justify-content-start">
                <img src="/static/img/siteLogo.png" id="siteLogo" th:src="@{/img/siteLogo.png}">
                <a href="/index" id="logoText">TravelCamp</a>
            </div>
            <div class="col-md-2 navLinks">
                <a href="/about">О нас</a>
            </div>
            <div class="col-md-2 navLinks">
                <a href="/tours">Наши туры</a>
            </div>
            <div class="col-md-3 offset-md-0 navLinks ">
                <div class="adminLogout" th:text="'Вы вошли как '+${user.getRole()}"></div>
                <div class="adminLogout">
                    <form method="POST" th:action="@{/logout}">
                        <button type="submit">(выйти)</button>
                    </form>
                </div>
                <div class="adminNavSelect">
                    <select onchange="window.location.href=this.options[this.selectedIndex].value" class="form-select"
                            aria-label="Default select example">
                        <option selected disabled>Выберите действие</option>
                        <option value="/admin/orders">Просмотр заказов</option>
                        <option value="/admin/tours/add">Добавить новый тур</option>
                        <option value="/admin/users">Просмотр пользователей</option>
                    </select>
                </div>
            </div>
        </div>
    </nav>
</div>
<!-------------------------->


<!--------    CARD    -------->
<div class="row row-cols-1 cardInfoAdmin">
    <h3 class="card-title text-center" th:text="${tour.getTitle().toUpperCase()}">НАЗВАНИЕ</h3>
    <h5 class="card-title text-center" th:text="${tour.getDescriptionShort().toLowerCase()}">краткое описание</h5>
    <div class="card cardInfo">
        <img th:src="'/img/uploadPath/' + ${tour.getTourImagesList().get(0).getFileName()}"
             src="/static/img/siteLogo.png" class="card-img-top"
             alt="Очень красивая картинка. Была. Просто поверьте нам на слово :) ">
    </div>
    <div class="card-body">
        <div class="cardFullDescription " >
            <p class="card-text col-12 col-xl-8 offset-xl-2" th:text="${tour.getDescriptionFull()}">полное описание</p>
            <h4 class="card-title">Параметры маршрута</h4>
            <div class="col-12 col-xl-8 offset-xl-2">
                <p class="card-text" th:text="'Тип маршрута: ' + ${tour.getTourType().toLowerCase()}">nbg</p>
                <p class="card-text" th:text="'Длительность: ' + ${tour.getDuration()}"></p>
                <p class="card-text" th:text="'Дистанция: ' + ${tour.getDistance()}"></p>
                <p class="card-text" th:text="'Набор высоты: ' + ${tour.getElevation()}"></p>
                <p class="card-text"
                   th:text="'Стоимость для малой группы (до ' + ${tour.getSmallGroupParticipants()} + ' человек) : ' + ${tour.getPriceSmallGroup()} + ' руб.'"></p>
                <p class="card-text"
                   th:text="'Стоимость для полной группы (до ' + ${tour.getLargeGroupParticipants()} + ' человек) : ' + ${tour.getPriceLargeGroup()} + ' руб.'"></p>
            </div>
        </div>
        <div class="align-items-center vstack" style="text-align: center">
            <br><br>
            <h5>Галерея</h5>
            <!--    Карусель    -->
            <div id="demo" class="carousel slide carouselContainer" data-ride="carousel">
                <!-- Indicators -->
                <ul class="carousel-indicators">
                    <li data-target="#demo" data-slide-to="0" class="active"></li>
                    <li data-target="#demo" data-slide-to="1"></li>
                    <li data-target="#demo" data-slide-to="2"></li>
                    <li data-target="#demo" data-slide-to="3"></li>
                    <li data-target="#demo" data-slide-to="4"></li>
                </ul>
                <!-- The slideshow -->
                <div class="carousel-inner">
                    <div class="carousel-item active"
                         th:if="${tour.getTourImagesList().size() > 0}">
                        <img th:src="'/img/uploadPath/' + ${tour.getTourImagesList().get(0).getFileName()}"
                             src="/static/img/siteLogo.png">
                    </div>
                    <div class="carousel-item" th:if="${tour.getTourImagesList().size() > 1}">
                        <img th:src="'/img/uploadPath/' + ${tour.getTourImagesList().get(1).getFileName()}"
                             src="/static/img/siteLogo.png">
                    </div>
                                            <div class="carousel-item" th:if="${tour.getTourImagesList().size() > 2}">
                                                <img th:src="'/img/uploadPath/' + ${tour.getTourImagesList().get(2).getFileName()}">
                                            </div>
                                            <div class="carousel-item" th:if="${tour.getTourImagesList().size() > 3}">
                                                <img th:src="'/img/uploadPath/' + ${tour.getTourImagesList().get(3).getFileName()}">
                                            </div>
                                            <div class="carousel-item" th:if="${tour.getTourImagesList().size() > 4}">
                                                <img th:src="'/img/uploadPath/' + ${tour.getTourImagesList().get(4).getFileName()}">
                                            </div>
                </div>
                <!-- Left and right controls -->
                <a class="carousel-control-prev" href="#demo" data-slide="prev">
                    <span class="carousel-control-prev-icon"></span>
                </a>
                <a class="carousel-control-next" href="#demo" data-slide="next">
                    <span class="carousel-control-next-icon"></span>
                </a>
            </div>
        </div>
            <a class="btn btn-dark m-2 buttonCardInfo" th:href="@{/admin/tours/edit/{id}(id=${tour.getId()})}"
               role="button">Редактировать тур</a>
            <a class="btn btn-danger m-2 buttonCardInfo" th:href="@{/admin/tours/delete/{id}(id=${tour.getId()})}"
               role="button">Удалить тур</a>
    </div>
</div>
</div>
</body>
</html>