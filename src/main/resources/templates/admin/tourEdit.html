<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head lang="en">
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>TravelCamp</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/index.css" th:href="@{/css/index.css}">
    <link rel="stylesheet" href="/static/css/main.css" th:href="@{/css/main.css}">
    <link rel="stylesheet" href="/static/css/admin.css" th:href="@{/css/admin.css}">
</head>

<body>

<h3>РЕДАКТИРОВАНИЕ ТУРА</h3>

<br><br><br><br>

<!--ФОРМА РЕДАКТИРОВАНИЯ ТУРОВ по url-адресу:/admin/tours/edit/{id}-->
<!--объект ${tour} к форме. В AdminController его извлекаем и получаем из него поля формы-->
<!--enctype="multipart/form-data" указывает, что форма может работать с файлами-->

<form th:method="POST" th:action="@{/admin/tours/edit/{id}(id=${tour.getId()})}" th:object="${tour}" enctype="multipart/form-data">
    <label for="title">Название тура: </label>
    <input type="text" th:field="*{title}" placeholder="например: К облакам!" id="title">
    <!--    //В случае непройденной валидации выводим ошибки-->
    <div style="color:red" th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></div>
    <br>
    <br>
    <label for="descriptionShort">Краткое описание тура: </label>
    <textarea th:field="*{descriptionShort}" placeholder="например: Каково быть выше облаков? У нас есть ответ!"
              id="descriptionShort"></textarea>
    <div style="color:red" th:if="${#fields.hasErrors('descriptionShort')}" th:errors="*{descriptionShort}"></div>
    <br>
    <br>
    <label for="descriptionFull">Описание тура: </label>
    <textarea th:field="*{descriptionFull}" placeholder="развернутое описание тура" id="descriptionFull"></textarea>
    <div style="color:red" th:if="${#fields.hasErrors('descriptionFull')}" th:errors="*{descriptionFull}"></div>
    <br>
    <br>
    <label for="tourType">Тип тура: </label>
    <select name="tourType" th:field="*{tourType}" id="tourType">
        <div th:each="element: ${tourType}">
            <option th:text="${element.name().toLowerCase()}" th:value="${element.name()}"></option>
        </div>
    </select>
    <div style="color:red" th:if="${#fields.hasErrors('tourType')}" th:errors="*{tourType}"></div>
    <br>
    <br>
    <label for="distance">Протяженность маршрута: </label>
    <input th:type="text" th:field="*{distance}" placeholder="например: 20 км" id="distance">
    <div style="color:red" th:if="${#fields.hasErrors('distance')}" th:errors="*{distance}"></div>
    <br>
    <br>
    <label for="duration">Продолжительность маршрута: </label>
    <input th:type="text" th:field="*{duration}" placeholder="например: 8 часов" id="duration">
    <div style="color:red" th:if="${#fields.hasErrors('distance')}" th:errors="*{duration}"></div>
    <br>
    <br>
    <label for="elevation">Набор высоты:</label>
    <input type="text" th:field="*{elevation}" placeholder="например: 1300 метров" id="elevation">
    <div style="color:red" th:if="${#fields.hasErrors('elevation')}" th:errors="*{elevation}"></div>
    <br>
    <br>
    <label for="smallGroupParticipants">Кол-во участников для малой группы, до:</label>
    <input type="number" th:field="*{smallGroupParticipants}" placeholder="например: 3" id="smallGroupParticipants">
    <div style="color:red" th:if="${#fields.hasErrors('smallGroupParticipants')}"
         th:errors="*{smallGroupParticipants}"></div>
    <br>
    <br>
    <label for="largeGroupParticipants">Максимум человек в группе:</label>
    <input type="number" th:field="*{largeGroupParticipants}" placeholder="например: 5" id="largeGroupParticipants">
    <div style="color:red" th:if="${#fields.hasErrors('largeGroupParticipants')}"
         th:errors="*{largeGroupParticipants}"></div>
    <br>
    <br>
    <label for="priceSmallGroup">Стоимость для малой группы: </label>
    <input type="number" th:field="*{priceSmallGroup}" placeholder="число, например: 8000" id="priceSmallGroup" min="1" step="0.01">
    <div style="color:red" th:if="${#fields.hasErrors('priceSmallGroup')}"
         th:errors="*{priceSmallGroup}"></div>
    <br>
    <br>
    <label for="priceLargeGroup">Стоимость для большой группы: </label>
    <input type="number" th:field="*{priceLargeGroup}" placeholder="число, например: 8000" id="priceLargeGroup" min="1" step="0.01">
    <div style="color:red" th:if="${#fields.hasErrors('priceLargeGroup')}"
         th:errors="*{priceLargeGroup}"></div>
    <br>
    <br>
    <p >Вы можете добавить до 5 фотографий. Первая фотография будет лицевой на карточке тура </p>
    <!--    Поля для загрузки фотографий -->
    <input type="file" name="file_one">
    <br>
    <input type="file" name="file_two">
    <br>
    <input type="file" name="file_three">
    <br>
    <input type="file" name="file_four">
    <br>
    <input type="file" name="file_five">
    <br>
    <br>
    <input type="submit" value="Редактировать тур">
</form>
<br>
<a href="javascript:history.back()">Назад</a>
<!----------------------------------------------------------->





</body>
</html>