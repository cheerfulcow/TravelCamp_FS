<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head lang="en">
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Подробная информация о туре </title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/index.css" th:href="@{/css/index.css}">
    <link rel="stylesheet" href="/static/css/main.css" th:href="@{/css/main.css}">

    <!--    Для карусели   -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css" rel="stylesheet"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="/static/css/user.css" th:href="@{/css/user.css}">

</head>
<body>

<!--NavBar section-->
<div id="navbarHome">
    <nav class="fixed-top bg-black py-3 justify-content-around align-items-center" data-bs-theme="dark">
        <div class="row align-items-center justify-content-center px-0">
            <div class="py-2 py-md-0 col-md-1 px-4 justify-content-start logoContainer">
                <img src="/static/img/siteLogo.png" id="siteLogo" th:src="@{/img/siteLogo.png}">
            </div>
            <div class="row col-md-3">
                <a href="/user/index" id="logoText" style="text-align: center">TravelCamp</a>
            </div>
            <div class="row col-md-8 align-items-center">
                <div class="col-md-1 navLinks">
                    <a href="/user/index#ourTours">Туры</a>
                </div>
                <div class="col-md-2 navLinks">
                    <a href="/user/index#aboutUs">О нас</a>
                </div>
                <div class="col-md-2 navLinks">
                    <a href="/user/index#contacts">Контакты</a>
                </div>
                <div class="col-md-2 navLinks">
                    <a href="/user/orders">Заказы</a>
                </div>
                <div class="col-md-2 navLinks">
                    <a href="/user/cart">Корзина</a>
                </div>
                <div class="col-md-3 offset-md-0 navLinks">
                    <div class="logout" th:text="${user.getFirstName()}">username</div>
                    <div class="logout">
                        <form method="POST" th:action="@{/logout}">
                            <button type="submit">(выйти)</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </nav>
</div>
<!---------------------------------------------------------------------->

<div class="my-4"></div>


<!--------    CARD    -------->
<div class="row row-cols-1 cardInfoDetailed">
    <h3 class="card-title text-center" th:text="${tour.getTitle().toUpperCase()}">НАЗВАНИЕ</h3>
    <h5 class="card-title text-center" th:text="${tour.getDescriptionShort().toLowerCase()}">краткое описание</h5>
    <div class="card cardInfoImg">
        <img th:src="'/img/uploadPath/' + ${tour.getTourImagesList().get(0).getFileName()}"
             src="/static/img/siteLogo.png" class="card-img-top"
             alt="Очень красивая картинка. Была. Просто поверьте нам на слово :) ">
    </div>
    <div class="card-body cardBodyDetailed">
        <div class="userCardFullDescription ">
            <p class="card-text col-12 col-xl-8 offset-xl-2" th:text="${tour.getDescriptionFull()}">полное описание</p>
            <h4 class="card-title">ПАРАМЕТРЫ МАРШРУТА:</h4>
            <div class="col-12 col-xl-8 offset-xl-2 divDescriprion">
                <p class="card-text" th:text="'Тип маршрута: ' + ${tour.getTourType().toLowerCase()}">nbg</p>
                <p class="card-text" th:text="'Длительность: ' + ${tour.getDuration()}"></p>
                <p class="card-text" th:text="'Дистанция: ' + ${tour.getDistance()}"></p>
                <p class="card-text" th:text="'Набор высоты: ' + ${tour.getElevation()}"></p>
                <p class="card-text"
                   th:text="'Стоимость: ' + ${tour.getPriceSmallGroup()} + ' руб.'"></p>
                <!--                <p class="card-text"-->
                <!--                   th:text="'Стоимость для полной группы (до ' + ${tour.getLargeGroupParticipants()} + ' человек) : ' + ${tour.getPriceLargeGroup()} + ' руб.'"></p>-->
            </div>
        </div>
        <div class="align-items-center vstack" style="text-align: center">
            <br><br>
            <h4>Галерея</h4>
            <!--    Карусель    -->
            <div id="demo" class="carousel slide carouselContainer" data-ride="carousel">
                <!-- Indicators -->
                <ul class="carousel-indicators">
                    <li data-target="#demo" data-slide-to="0" class="active"></li>
                    <li data-target="#demo" data-slide-to="1"></li>
                    <li data-target="#demo" data-slide-to="2"></li>
                    <li data-target="#demo" data-slide-to="3"></li>
                    <li data-target="#demo" data-slide-to="4"></li>
                </ul>
                <!-- The slideshow -->
                <div class="carousel-inner">
                    <div class="carousel-item active"
                         th:if="${tour.getTourImagesList().size() > 0}">
                        <img th:src="'/img/uploadPath/' + ${tour.getTourImagesList().get(0).getFileName()}"
                             src="/static/img/siteLogo.png">
                    </div>
                    <div class="carousel-item" th:if="${tour.getTourImagesList().size() > 1}">
                        <img th:src="'/img/uploadPath/' + ${tour.getTourImagesList().get(1).getFileName()}"
                             src="/static/img/siteLogo.png">
                    </div>
                    <div class="carousel-item" th:if="${tour.getTourImagesList().size() > 2}">
                        <img th:src="'/img/uploadPath/' + ${tour.getTourImagesList().get(2).getFileName()}">
                    </div>
                    <div class="carousel-item" th:if="${tour.getTourImagesList().size() > 3}">
                        <img th:src="'/img/uploadPath/' + ${tour.getTourImagesList().get(3).getFileName()}">
                    </div>
                    <div class="carousel-item" th:if="${tour.getTourImagesList().size() > 4}">
                        <img th:src="'/img/uploadPath/' + ${tour.getTourImagesList().get(4).getFileName()}">
                    </div>
                </div>
                <!-- Left and right controls -->
                <a class="carousel-control-prev" href="#demo" data-slide="prev">
                    <span class="carousel-control-prev-icon"></span>
                </a>
                <a class="carousel-control-next" href="#demo" data-slide="next">
                    <span class="carousel-control-next-icon"></span>
                </a>
            </div>
        </div>
        <th:block th:if="${cart.size() > 0 }">
            <th:block th:if="${cart.size() == 1}">
                <th:block th:switch="${cart.get(0).getTourId() != tour.getId()}">
                    <a class="btn btn-dark m-2 buttonCard"
                       th:case="true" th:href="@{/user/cart/add/{id}(id=${tour.getId()})}"
                       role="button">Добавить в корзину</a>
                    <a class="btn btn-dark m-2 buttonCard"
                       th:case="false" th:href="@{/user/cart/delete/{id}(id=${tour.getId()})}"
                       role="button">Уже в корзине (удалить)</a>
                </th:block>
            </th:block>
            <th:block th:if="${cart.size() == 2}">
                <th:block
                        th:switch="${(cart.get(0).getTourId() != tour.getId()) and (cart.get(1).getTourId() != tour.getId())}">
                    <a class="btn btn-dark m-2 buttonCard"
                       th:case="true" th:href="@{/user/cart/add/{id}(id=${tour.getId()})}"
                       role="button">Добавить в корзину</a>
                    <a class="btn btn-dark m-2 buttonCard"
                       th:case="false" th:href="@{/user/cart/delete/{id}(id=${tour.getId()})}"
                       role="button">Уже в корзине (удалить)</a>
                </th:block>
            </th:block>
            <th:block th:if="${cart.size() == 3}">
                <th:block
                        th:switch="${(cart.get(0).getTourId() != tour.getId()) and (cart.get(1).getTourId() != tour.getId()) and (cart.get(2).getTourId() != tour.getId())}">
                    <a class="btn btn-dark m-2 buttonCard"
                       th:case="true" th:href="@{/user/cart/add/{id}(id=${tour.getId()})}"
                       role="button">Добавить в корзину</a>
                    <a class="btn btn-dark m-2 buttonCard"
                       th:case="false" th:href="@{/user/cart/delete/{id}(id=${tour.getId()})}"
                       role="button">Уже в корзине (удалить)</a>
                </th:block>
            </th:block>
        </th:block>
        <a class="btn btn-dark m-2 buttonCard"
           th:if="${cart.size() < 1}" th:href="@{/user/cart/add/{id}(id=${tour.getId()})}"
           role="button">Добавить в корзину</a>
        <a class="btn btn-dark m-2 buttonCard"
           th:if="${cart.size() > 0}"
           th:href="@{/user/cart}"
           role="button">Перейти в корзину</a>
    </div>
</div>

<div class="tourDetailedBackButton">
    <a class="btn btn-dark m-2 buttonCard"
       th:href="@{/user/index#ourTours}"
       role="button">перейти к списку туров</a>
</div>


</body>
</html>